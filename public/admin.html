<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Cortex Prime | Advanced AI Orchestrator</title>
    
    <link href="https://fonts.googleapis.com/css2?family=Inter:wght@300;400;500;600;700&family=JetBrains+Mono:wght@400;500;700&display=swap" rel="stylesheet">
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css">
    
    <script src="https://cdn.jsdelivr.net/npm/chart.js"></script>

    <style>
        /* --- 1. THEME VARIABLES --- */
        :root {
            /* Palette: Deep Space */
            --bg-app: #030712; 
            --bg-panel: #0b0f19; /* Sidebar BG */
            --bg-card: rgba(31, 41, 55, 0.4);
            
            --border-subtle: rgba(255, 255, 255, 0.06);
            --border-highlight: rgba(255, 255, 255, 0.1);

            --primary: #6366f1; /* Indigo */
            --primary-glow: rgba(99, 102, 241, 0.4);
            
            --success: #10b981;
            --danger: #ef4444;
            --warning: #f59e0b;
            --cyan: #06b6d4;   
            --pink: #ec4899;   

            --text-main: #f9fafb;
            --text-muted: #9ca3af;
            --text-dim: #6b7280;

            --font-main: 'Inter', sans-serif;
            --font-mono: 'JetBrains Mono', monospace;
            --radius-md: 16px;
        }

        * { box-sizing: border-box; margin: 0; padding: 0; outline: none; }

        /* Custom Scrollbar */
        ::-webkit-scrollbar { width: 6px; height: 6px; }
        ::-webkit-scrollbar-track { background: var(--bg-app); }
        ::-webkit-scrollbar-thumb { background: rgba(255,255,255,0.1); border-radius: 10px; }
        ::-webkit-scrollbar-thumb:hover { background: rgba(255,255,255,0.2); }

        body {
            background-color: var(--bg-app);
            color: var(--text-main);
            font-family: var(--font-main);
            height: 100vh;
            display: flex;
            overflow: hidden;
            /* Mesh Gradient Background */
            background-image: 
                radial-gradient(circle at 15% 50%, rgba(99, 102, 241, 0.08), transparent 25%),
                radial-gradient(circle at 85% 30%, rgba(16, 185, 129, 0.05), transparent 25%);
        }

        /* --- 2. PROFESSIONAL SIDEBAR --- */
        aside {
            width: 80px; /* Default Collapsed Width */
            height: 100vh;
            background: var(--bg-panel);
            border-right: 1px solid var(--border-subtle);
            display: flex;
            flex-direction: column;
            padding: 24px 12px;
            z-index: 50;
            flex-shrink: 0;
            transition: width 0.4s cubic-bezier(0.25, 0.8, 0.25, 1);
            overflow: hidden;
        }

        /* Expand on Hover */
        aside:hover {
            width: 260px;
            padding: 24px 16px;
        }

        /* Header */
        .sidebar-header {
            display: flex;
            align-items: center;
            gap: 14px;
            margin-bottom: 32px;
            padding-left: 4px;
            height: 40px;
            overflow: hidden;
        }

        .brand-logo {
            min-width: 36px; height: 36px;
            background: linear-gradient(135deg, var(--primary), #8b5cf6);
            border-radius: 8px;
            display: grid; place-items: center;
            font-weight: 800; font-size: 1.2rem;
            color: white;
            box-shadow: 0 0 15px var(--primary-glow);
        }

        .brand-text {
            font-size: 1.1rem;
            font-weight: 700;
            letter-spacing: -0.5px;
            color: white;
            white-space: nowrap;
            opacity: 0;
            transition: opacity 0.2s ease-in-out;
        }

        /* Nav Labels & Items */
        .nav-label {
            font-size: 0.75rem;
            text-transform: uppercase;
            letter-spacing: 1px;
            color: var(--text-dim);
            font-weight: 600;
            margin: 20px 0 8px 12px;
            white-space: nowrap;
            opacity: 0;
            transition: opacity 0.2s;
            height: 0;
        }

        .nav-item {
            display: flex;
            align-items: center;
            gap: 14px;
            padding: 12px;
            border-radius: 8px;
            color: var(--text-muted);
            text-decoration: none;
            font-size: 0.9rem;
            font-weight: 500;
            transition: all 0.2s;
            margin-bottom: 4px;
            white-space: nowrap;
            overflow: hidden;
        }

        .nav-item i {
            min-width: 20px;
            text-align: center;
            font-size: 1.1rem;
            transition: color 0.2s;
        }

        .nav-item span {
            opacity: 0;
            transition: opacity 0.2s ease-in-out;
        }

        /* Hover States */
        .nav-item:hover { background: rgba(255, 255, 255, 0.05); color: white; }
        
        .nav-item.active {
            background: rgba(99, 102, 241, 0.15);
            color: white;
            border: 1px solid rgba(99, 102, 241, 0.2);
        }
        .nav-item.active i { color: var(--primary); }

        /* Expand Logic */
        aside:hover .brand-text,
        aside:hover .nav-item span,
        aside:hover .user-info,
        aside:hover .arrow-icon {
            opacity: 1;
            transition-delay: 0.1s;
        }
        aside:hover .nav-label {
            opacity: 1;
            height: auto;
            margin: 20px 0 8px 12px;
        }

        /* Footer / User Profile */
        .sidebar-footer {
            margin-top: auto;
            border-top: 1px solid var(--border-subtle);
            padding-top: 16px;
            overflow: hidden;
        }

        .user-profile {
            display: flex;
            align-items: center;
            gap: 12px;
            padding: 8px;
            border-radius: 8px;
            cursor: pointer;
            transition: background 0.2s;
            white-space: nowrap;
        }
        .user-profile:hover { background: rgba(255,255,255,0.05); }

        .profile-pic {
            min-width: 32px; height: 32px;
            border-radius: 50%;
            background: #374151;
            display: grid; place-items: center;
            font-size: 0.8rem; font-weight: 600; color: white;
        }

        .user-info { flex: 1; opacity: 0; transition: opacity 0.2s; }
        .user-name { font-size: 0.85rem; font-weight: 600; color: white; }
        .user-role { font-size: 0.75rem; color: var(--text-dim); }
        .arrow-icon { opacity: 0; transition: opacity 0.2s; }


        /* --- 3. MAIN LAYOUT --- */
        main {
            flex: 1;
            padding: 20px 40px;
            display: grid;
            grid-template-columns: 300px 1fr 350px; 
            grid-template-rows: 80px minmax(500px, 1fr) 250px; 
            gap: 24px;
            overflow-y: auto; 
            overflow-x: hidden;
            height: 100vh;
        }

        /* Header */
        .header {
            grid-column: 1 / -1;
            display: flex; justify-content: space-between; align-items: center;
            border-bottom: 1px solid var(--border-subtle);
            margin-bottom: 10px;
        }

        .breadcrumbs { font-size: 0.9rem; color: var(--text-muted); }
        .breadcrumbs span { color: white; font-weight: 500; }
        
        .sys-status {
            font-family: var(--font-code); font-size: 0.8rem;
            display: flex; gap: 20px; color: var(--text-dim);
        }
        .status-item { display: flex; align-items: center; gap: 8px; }
        .dot { width: 6px; height: 6px; border-radius: 50%; background: #fff; box-shadow: 0 0 8px currentColor; }
        .blink { animation: blink 2s infinite; }

        /* Panels */
        .panel {
            background: var(--bg-card);
            backdrop-filter: blur(12px);
            border: 1px solid var(--border-subtle);
            border-radius: 16px;
            overflow: hidden;
            display: flex; flex-direction: column;
            position: relative;
            transition: border-color 0.2s;
        }
        .panel:hover { border-color: var(--border-highlight); }

        .p-header {
            padding: 16px 20px; 
            border-bottom: 1px solid var(--border-subtle);
            font-family: var(--font-code); font-size: 0.75rem; color: var(--text-muted); 
            text-transform: uppercase; letter-spacing: 0.5px; font-weight: 600;
            display: flex; justify-content: space-between; align-items: center;
            background: rgba(0,0,0,0.2);
            flex-shrink: 0;
        }

        /* --- COL 1: CONTROL DECK --- */
        .control-deck { grid-column: 1; grid-row: 2; gap: 24px; display: flex; flex-direction: column; }
        
        .stat-row {
            display: flex; justify-content: space-between; align-items: baseline;
            padding: 12px 20px; border-bottom: 1px solid var(--border-subtle);
        }
        .stat-label { font-size: 0.85rem; color: var(--text-muted); }
        .stat-val { font-family: var(--font-code); color: var(--cyan); font-weight: 700; }

        /* Hex Grid */
        .hex-grid {
            display: grid;
            grid-template-columns: repeat(6, 1fr);
            gap: 4px;
            padding: 20px;
        }
        .hex {
            aspect-ratio: 1;
            background: rgba(255,255,255,0.05);
            clip-path: polygon(50% 0%, 100% 25%, 100% 75%, 50% 100%, 0% 75%, 0% 25%);
            transition: 0.3s;
        }
        .hex.hot { background: var(--danger); box-shadow: 0 0 10px var(--danger); }
        .hex.warm { background: var(--warning); }
        .hex.active { background: var(--success); }
        
        /* --- COL 2: CORTEX VISUALIZER --- */
        .visualizer { grid-column: 2; grid-row: 2; position: relative; min-height: 400px; }
        canvas#cortexCanvas { width: 100%; height: 100%; display: block; }
        
        .hud-overlay {
            position: absolute; bottom: 20px; left: 20px;
            font-family: var(--font-code); font-size: 0.8rem; color: var(--primary);
            pointer-events: none;
        }

        .btn-overlay {
            width:auto; padding:8px 12px; background: rgba(0,0,0,0.4); 
            border:1px solid var(--border-subtle); color: var(--text-muted);
            border-radius: 8px; cursor: pointer; font-size: 0.75rem;
        }
        .btn-overlay.active { background: var(--primary); color: white; border-color: var(--primary); }

        /* --- COL 3: ANALYTICS --- */
        .analytics { grid-column: 3; grid-row: 2; gap: 24px; display: flex; flex-direction: column; }
        .chart-cont { flex: 1; padding: 10px; min-height: 150px; }
        
        /* Job List */
        .job-list { flex: 1; overflow-y: auto; }
        .job-item {
            padding: 14px 20px; border-bottom: 1px solid var(--border-subtle);
            display: flex; justify-content: space-between; align-items: center;
            font-size: 0.85rem;
        }
        .job-item:hover { background: rgba(255,255,255,0.02); }
        
        .job-status { font-size: 0.7rem; padding: 4px 10px; border-radius: 6px; font-family: var(--font-code); font-weight: 600; }
        .st-run { background: rgba(99, 102, 241, 0.15); color: #a5b4fc; }
        .st-wait { background: rgba(148, 163, 184, 0.15); color: #cbd5e1; }

        /* --- BOTTOM ROW: TERMINAL & LOGS --- */
        .terminal-panel { grid-column: 1 / span 2; grid-row: 3; min-height: 250px; }
        .server-logs { grid-column: 3; grid-row: 3; min-height: 250px; }

        .cli {
            flex: 1; background: rgba(0,0,0,0.3); padding: 20px;
            font-family: var(--font-code); font-size: 0.9rem; color: var(--success);
            overflow-y: auto; display: flex; flex-direction: column;
        }
        .cli-line { margin-bottom: 6px; word-break: break-all; }
        .cli-input-line { display: flex; gap: 10px; margin-top: 10px; color: white; }
        .cli-input {
            background: transparent; border: none; color: inherit; font-family: inherit; font-size: inherit; width: 100%;
        }

        /* Animations */
        @keyframes blink { 0%, 100% { opacity: 1; } 50% { opacity: 0.4; } }

        /* Responsive */
        @media (max-width: 1400px) {
            main { 
                grid-template-columns: 280px 1fr; 
                grid-template-rows: 80px auto auto auto; 
                padding-bottom: 40px;
            }
            .analytics { grid-column: 2; grid-row: 3; }
            .visualizer { grid-column: 2; grid-row: 2; height: 500px; }
            .control-deck { grid-row: 2 / span 2; }
            .terminal-panel { grid-column: 1 / -1; grid-row: 4; }
            .server-logs { display: none; }
        }
        
        @media (max-width: 900px) {
            main {
                grid-template-columns: 1fr;
                grid-template-rows: 80px auto auto auto auto auto;
            }
            .control-deck { grid-column: 1; grid-row: 2; }
            .visualizer { grid-column: 1; grid-row: 3; height: 400px; }
            .analytics { grid-column: 1; grid-row: 4; }
            .terminal-panel { grid-column: 1; grid-row: 5; }
        }
    </style>
</head>
<body>

    <aside>
        <div class="sidebar-header">
            <div class="brand-logo">L</div>
            <div class="brand-text">SRM LabOS</div>
        </div>

        <div class="nav-label">GENERAL</div>
        <a href="#" class="nav-item active">
            <i class="fa-solid fa-globe"></i> <span>Dashboard</span>
        </a>
        <a href="#" class="nav-item">
            <i class="fa-solid fa-brain"></i> <span>Inbox</span>
        </a>

        <div class="nav-label">ACADEMICS</div>
        <a href="submit.html" class="nav-item">
            <i class="fa-solid fa-database"></i> <span>Experiments</span>
        </a>
        <a href="#" class="nav-item">
            <i class="fa-solid fa-microchip"></i> <span>Students</span>
        </a>

        <div class="nav-label">SYSTEM</div>
        <a href="#" class="nav-item">
            <i class="fa-solid fa-terminal"></i> <span>Resources</span>
        </a>
        <a href="#" class="nav-item">
            <i class="fa-solid fa-gear"></i> <span>Settings</span>
        </a>

        <div class="sidebar-footer">
            <div class="user-profile">
                <div class="profile-pic">HP</div>
                <div class="user-info">
                    <div class="user-name">Dr.Hariprasad S</div>
                    <div class="user-role">Root Access</div>
                </div>
                <i class="fa-solid fa-arrow-right-from-bracket arrow-icon" style="color: var(--text-dim);"></i>
            </div>
        </div>
    </aside>

    <main>
        <header class="header">
            <div class="breadcrumbs">
                SYSTEM <span style="color:var(--text-dim);">//</span> CORE <span style="color:var(--text-dim);">//</span> <span style="color: white; font-weight: 600;">NEURAL_ENGINE_V9</span>
            </div>
            <div class="sys-status">
                <div class="status-item"><div class="dot blink" style="color:var(--success);"></div> ONLINE</div>
                <div class="status-item"><i class="fa-solid fa-memory" style="color:var(--cyan);"></i> 24TB VRAM</div>
                <div class="status-item"><i class="fa-solid fa-bolt" style="color:var(--warning);"></i> 4.2 PFLOPS</div>
            </div>
        </header>

        <div class="control-deck">
            <div class="panel" style="flex:0 0 auto;">
                <div class="p-header">
                    <span>Cluster Thermal Map</span>
                    <i class="fa-solid fa-temperature-half"></i>
                </div>
                <div class="hex-grid" id="gpuGrid">
                    </div>
                <div class="stat-row">
                    <span class="stat-label">Avg Temp</span>
                    <span class="stat-val" id="avgTemp">64°C</span>
                </div>
                <div class="stat-row">
                    <span class="stat-label">Fan Speed</span>
                    <span class="stat-val">8,400 RPM</span>
                </div>
            </div>

            <div class="panel" style="flex:1;">
                <div class="p-header">
                    <span>Node Health</span>
                    <i class="fa-solid fa-server"></i>
                </div>
                <div style="padding:15px; display:flex; flex-direction:column; gap:15px;">
                    <div>
                        <div style="display:flex; justify-content:space-between; font-size:0.8rem; margin-bottom:5px;">
                            <span style="color: var(--text-main);">Node Alpha (Master)</span>
                            <span style="color:var(--success);">98% Load</span>
                        </div>
                        <div style="height:4px; background:rgba(255,255,255,0.1); border-radius:2px;"><div style="width:98%; height:100%; background:var(--primary);"></div></div>
                    </div>
                    <div>
                        <div style="display:flex; justify-content:space-between; font-size:0.8rem; margin-bottom:5px;">
                            <span style="color: var(--text-main);">Node Beta (Worker)</span>
                            <span style="color:var(--cyan);">45% Load</span>
                        </div>
                        <div style="height:4px; background:rgba(255,255,255,0.1); border-radius:2px;"><div style="width:45%; height:100%; background:var(--cyan);"></div></div>
                    </div>
                    <div>
                        <div style="display:flex; justify-content:space-between; font-size:0.8rem; margin-bottom:5px;">
                            <span style="color: var(--text-main);">Node Gamma (Storage)</span>
                            <span style="color:var(--pink);">12% Load</span>
                        </div>
                        <div style="height:4px; background:rgba(255,255,255,0.1); border-radius:2px;"><div style="width:12%; height:100%; background:var(--pink);"></div></div>
                    </div>
                </div>
            </div>
        </div>

        <div class="panel visualizer">
            <canvas id="cortexCanvas"></canvas>
            <div class="hud-overlay">
                <div>ROTATION: <span id="rotSpeed">0.45</span> RAD/S</div>
                <div>NODES: <span id="nodeCount">128</span> ACTIVE</div>
                <div>TOPOLOGY: SPHERICAL_DENSE</div>
            </div>
            <div style="position:absolute; top:20px; right:20px; display:flex; gap:10px;">
                <button class="btn-overlay">2D</button>
                <button class="btn-overlay active">3D</button>
            </div>
        </div>

        <div class="analytics">
            <div class="panel" style="flex:1;">
                <div class="p-header">
                    <span>Loss Metric (Real-time)</span>
                    <i class="fa-solid fa-chart-line"></i>
                </div>
                <div class="chart-cont">
                    <canvas id="realtimeChart"></canvas>
                </div>
            </div>

            <div class="panel" style="flex:1;">
                <div class="p-header">
                    <span>Job Queue</span>
                    <i class="fa-solid fa-list-check"></i>
                </div>
                <div class="job-list">
                    <div class="job-item">
                        <div>
                            <div style="font-weight:600; color:white;">LLM_FineTune_v4</div>
                            <div style="font-size:0.75rem; color:var(--text-dim);">Epoch 45/100</div>
                        </div>
                        <span class="job-status st-run">RUNNING</span>
                    </div>
                    <div class="job-item">
                        <div>
                            <div style="font-weight:600; color:white;">ImageGen_Render</div>
                            <div style="font-size:0.75rem; color:var(--text-dim);">Batch 2048</div>
                        </div>
                        <span class="job-status st-run">RUNNING</span>
                    </div>
                    <div class="job-item">
                        <div>
                            <div style="font-weight:600; color:white;">Data_Sanitize_02</div>
                            <div style="font-size:0.75rem; color:var(--text-dim);">Pending Alloc</div>
                        </div>
                        <span class="job-status st-wait">QUEUED</span>
                    </div>
                </div>
            </div>
        </div>

        <div class="panel terminal-panel">
            <div class="p-header">
                <span>System Terminal (Interactive)</span>
                <i class="fa-solid fa-terminal"></i>
            </div>
            <div class="cli" id="cliOutput">
                <div class="cli-line">SRM LabOS Kernel v5.4.1 initialized.</div>
                <div class="cli-line">Connected to cluster: <span style="color:var(--cyan);">alpha-node-01</span></div>
                <div class="cli-line">Type 'help' for commands.</div>
                <div class="cli-input-line">
                    <span style="color:var(--pink);">root@cortex:~#</span>
                    <input type="text" class="cli-input" id="cliInput" autocomplete="off" autofocus>
                </div>
            </div>
        </div>

        <div class="panel server-logs">
            <div class="p-header">
                <span>Event Log</span>
                <i class="fa-solid fa-file-code"></i>
            </div>
            <div class="cli" style="font-size:0.75rem; color:var(--text-muted);" id="eventLog">
                </div>
        </div>

    </main>

    <script>
        /* --- 1. 3D CORTEX VISUALIZER (Vanilla JS Canvas Engine) --- */
        const canvas = document.getElementById('cortexCanvas');
        const ctx = canvas.getContext('2d');
        
        let width, height;
        const resize = () => {
            width = canvas.width = canvas.parentElement.offsetWidth;
            height = canvas.height = canvas.parentElement.offsetHeight;
        };
        window.addEventListener('resize', resize);
        resize();

        // 3D Point Class
        class Point3D {
            constructor(x, y, z) {
                this.x = x; this.y = y; this.z = z;
            }
            rotateY(angle) {
                const cos = Math.cos(angle);
                const sin = Math.sin(angle);
                const x = this.x * cos - this.z * sin;
                const z = this.z * cos + this.x * sin;
                this.x = x; this.z = z;
            }
            rotateX(angle) {
                const cos = Math.cos(angle);
                const sin = Math.sin(angle);
                const y = this.y * cos - this.z * sin;
                const z = this.z * cos + this.y * sin;
                this.y = y; this.z = z;
            }
            project(viewWidth, viewHeight, fov, viewDistance) {
                const factor = fov / (viewDistance + this.z);
                const x = this.x * factor + viewWidth / 2;
                const y = this.y * factor + viewHeight / 2;
                return { x, y, scale: factor };
            }
        }

        // Generate Sphere of Nodes
        const nodes = [];
        const connections = [];
        const numNodes = 60;
        const radius = 200;

        for (let i = 0; i < numNodes; i++) {
            const theta = Math.acos(1 - 2 * (i + 0.5) / numNodes);
            const phi = Math.PI * (1 + Math.sqrt(5)) * (i + 0.5);
            nodes.push(new Point3D(
                radius * Math.sin(theta) * Math.cos(phi),
                radius * Math.sin(theta) * Math.sin(phi),
                radius * Math.cos(theta)
            ));
        }

        // Generate connections (neighbors)
        for (let i = 0; i < numNodes; i++) {
            for (let j = i + 1; j < numNodes; j++) {
                const d = Math.sqrt(
                    (nodes[i].x - nodes[j].x)**2 +
                    (nodes[i].y - nodes[j].y)**2 +
                    (nodes[i].z - nodes[j].z)**2
                );
                if (d < 80) connections.push([i, j]);
            }
        }

        function animateCortex() {
            ctx.clearRect(0, 0, width, height);
            
            // Draw Connections
            ctx.lineWidth = 1;
            nodes.forEach(n => { n.rotateY(0.005); n.rotateX(0.002); });

            connections.forEach(([i, j]) => {
                const p1 = nodes[i].project(width, height, 400, 400);
                const p2 = nodes[j].project(width, height, 400, 400);
                // Depth fading
                const alpha = (p1.scale + p2.scale) / 2; 
                ctx.strokeStyle = `rgba(99, 102, 241, ${alpha * 0.5})`;
                ctx.beginPath();
                ctx.moveTo(p1.x, p1.y);
                ctx.lineTo(p2.x, p2.y);
                ctx.stroke();
            });

            // Draw Nodes
            nodes.forEach(n => {
                const p = n.project(width, height, 400, 400);
                ctx.beginPath();
                ctx.arc(p.x, p.y, 3 * p.scale, 0, Math.PI * 2);
                ctx.fillStyle = '#06b6d4';
                ctx.fill();
                
                // Glow
                if(Math.random() > 0.95) {
                    ctx.beginPath();
                    ctx.arc(p.x, p.y, 8 * p.scale, 0, Math.PI * 2);
                    ctx.fillStyle = 'rgba(255, 255, 255, 0.5)';
                    ctx.fill();
                }
            });

            requestAnimationFrame(animateCortex);
        }
        animateCortex();


        /* --- 2. GPU THERMAL HEX GRID --- */
        const gpuGrid = document.getElementById('gpuGrid');
        for(let i=0; i<36; i++) {
            const hex = document.createElement('div');
            hex.className = 'hex active';
            gpuGrid.appendChild(hex);
        }

        // Randomize Grid Colors
        setInterval(() => {
            const hexes = document.querySelectorAll('.hex');
            const randomHex = hexes[Math.floor(Math.random() * hexes.length)];
            const states = ['active', 'active', 'active', 'warm', 'hot']; // Weighted
            randomHex.className = `hex ${states[Math.floor(Math.random() * states.length)]}`;
            
            // Update Temp Text
            document.getElementById('avgTemp').innerText = (60 + Math.floor(Math.random() * 15)) + "°C";
        }, 800);


        /* --- 3. REAL-TIME CHART.JS --- */
        const ctxChart = document.getElementById('realtimeChart').getContext('2d');
        const realtimeChart = new Chart(ctxChart, {
            type: 'line',
            data: {
                labels: Array(20).fill(''),
                datasets: [{
                    label: 'Loss',
                    data: Array(20).fill(0.5).map(() => Math.random()),
                    borderColor: '#6366f1',
                    backgroundColor: 'rgba(99, 102, 241, 0.1)',
                    fill: true,
                    tension: 0.4,
                    pointRadius: 0
                }, {
                    label: 'Accuracy',
                    data: Array(20).fill(0.8).map(() => 0.8 + Math.random()*0.1),
                    borderColor: '#06b6d4',
                    borderDash: [5, 5],
                    fill: false,
                    tension: 0.4,
                    pointRadius: 0
                }]
            },
            options: {
                responsive: true,
                maintainAspectRatio: false,
                plugins: { legend: { display: true, labels: { color: '#9ca3af', font: {family: 'JetBrains Mono'} } } },
                scales: {
                    x: { display: false },
                    y: { grid: { color: 'rgba(255,255,255,0.05)' }, ticks: { color: '#6b7280' } }
                },
                animation: false
            }
        });

        // Update Chart
        setInterval(() => {
            const data1 = realtimeChart.data.datasets[0].data;
            const data2 = realtimeChart.data.datasets[1].data;
            
            data1.shift(); data1.push(Math.random() * 0.5);
            data2.shift(); data2.push(0.5 + Math.random() * 0.4);
            
            realtimeChart.update();
        }, 1000);


        /* --- 4. INTERACTIVE TERMINAL --- */
        const cliInput = document.getElementById('cliInput');
        const cliOutput = document.getElementById('cliOutput');
        
        cliInput.addEventListener('keydown', (e) => {
            if (e.key === 'Enter') {
                const cmd = cliInput.value.toLowerCase();
                
                // Add user command line
                const userLine = document.createElement('div');
                userLine.className = 'cli-line';
                userLine.innerHTML = `<span style="color:var(--pink);">root@cortex:~#</span> ${cmd}`;
                cliOutput.insertBefore(userLine, cliOutput.lastElementChild);
                
                // Response Logic
                let response = '';
                if(cmd === 'help') response = "Available: status, clear, train [model], reboot, top";
                else if(cmd === 'status') response = "System: ONLINE | Load: 84% | Temp: 65C";
                else if(cmd === 'clear') {
                    while(cliOutput.children.length > 1) {
                        cliOutput.removeChild(cliOutput.firstChild);
                    }
                    response = null;
                }
                else if(cmd.startsWith('train')) response = `Initiating training sequence for ${cmd.split(' ')[1] || 'default_model'}... [PID: ${Math.floor(Math.random()*9000)}]`;
                else if(cmd === 'reboot') response = "Access Denied: Requires Admin Level 5.";
                else response = `Command not found: ${cmd}`;

                if(response) {
                    const respLine = document.createElement('div');
                    respLine.className = 'cli-line';
                    respLine.style.color = 'white';
                    respLine.innerText = response;
                    cliOutput.insertBefore(respLine, cliOutput.lastElementChild);
                }

                cliInput.value = '';
                cliOutput.scrollTop = cliOutput.scrollHeight;
            }
        });

        /* --- 5. LOG STREAMER --- */
        const logPanel = document.getElementById('eventLog');
        const logs = [
            "[INFO] Garbage collection started",
            "[WARN] High latency on node-04",
            "[INFO] Checkpoint saved: model_v9.pt",
            "[DEBUG] Matrix multiplication overflow prevented",
            "[NET] Packet loss detected on port 8080"
        ];
        
        setInterval(() => {
            const line = document.createElement('div');
            line.className = 'cli-line';
            line.innerHTML = `<span style="color:var(--text-dim);">${new Date().toLocaleTimeString()}</span> ${logs[Math.floor(Math.random()*logs.length)]}`;
            logPanel.prepend(line);
            if(logPanel.children.length > 20) logPanel.removeChild(logPanel.lastChild);
        }, 1500);

    </script>
</body>
</html>